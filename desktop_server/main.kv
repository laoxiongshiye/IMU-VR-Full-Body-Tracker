<InputText@TextInput>:
	size_hint_x: 0.25
	multiline: False
	write_tab: False
	input_filter: "float"
	on_focus: app.textinput_focus(args)
	
<SliderValue@Slider>:
	size_hint_x: 0.4
	min: 0
	max: 1.2
	step: 0.01
	value: 0
	
<SliderPosValue@Slider>:
	size_hint_x: 0.3
	min: -0.3
	max: 0.3
	step: 0.01

TabbedPanel:
	padding: 5
	do_default_tab: False
	tab_width: (self.size[0] - self.padding[0] * 5)/5

    TabbedPanelItem:
		text: 'Devices'
        BoxLayout:
			orientation: 'vertical'
			spacing: 5
			BoxLayout:
				id: boxlayout_ref
				size_hint_y: 0.1
				spacing: 5
				Label:
					size_hint_x: 0.2
					text: '[b]MAC[/b]'
					markup: True
				Label:
					size_hint_x: 0.2
					text: '[b]IP[/b]'
					markup: True
				Label:
					size_hint_x: 0.2
					text: '[b]Battery (V)[/b]'
					markup: True
				Label:
					size_hint_x: 0.2
					text: '[b]Battery (%)[/b]'
					markup: True
				Label:
					size_hint_x: 0.2
					text: '[b]Role[/b]'
					markup: True
			StackLayout:
				id: stack_list
				orientation: 'tb-lr'
				size_hint_y: 0.8
				spacing: 5
			BoxLayout:
				size_hint_y: 0.1
				spacing: 5
				Label:
					size_hint_x: 0.25
				Button:
					size_hint_x: 0.5
					text: 'Caibrate'
					on_release: app.calibrate_imu()
				Label:
					size_hint_x: 0.25

	TabbedPanelItem:
		text: 'Role assignment'
        BoxLayout:
			orientation: 'vertical'
			spacing: 5
			BoxLayout:
				size_hint_y: 0.1
				spacing: 5
				Label:
					size_hint_x: 0.25
					text: '[b]MAC[/b]'
					markup: True
				Label:
					size_hint_x: 0.25
					text: '[b]IP[/b]'
					markup: True
				Label:
					size_hint_x: 0.5
					text: '[b]Role[/b]'
					markup: True
			StackLayout:
				id: stack_role
				orientation: 'tb-lr'
				size_hint_y: 0.9
				spacing: 5
				
    TabbedPanelItem:
        text: 'Settings'
        BoxLayout:
			orientation: 'vertical'
			spacing: 5
            Label:
				size_hint_y: 2/23
                text: '[b]Tracker frame intrinsic XYZ rotation to \ndriver frame (X: right, Y: up, Z: back) in degree[/b]'
				markup: True
				font_size: '25sp'
				halign: 'center'
			BoxLayout:
				size_hint_y: 1/23
				spacing: 10
				Label:
					size_hint_x: 0.25
					text: '[b]Trackers[/b]'
					markup: True
				Label:
					size_hint_x: 0.25
					text: '[b]X[/b]'
					markup: True
				Label:
					size_hint_x: 0.25
					text: '[b]Y[/b]'
					markup: True
				Label:
					size_hint_x: 0.25
					text: '[b]Z[/b]'
					markup: True
			BoxLayout:
				size_hint_y: 1/23
				spacing: 10
				Label:
					size_hint_x: 0.25
					text: '[b]Left shin[/b]'
					markup: True
				InputText:
					id: lshin_x_text
					text: '0'
				InputText:
					id: lshin_y_text
					text: '0'
				InputText:
					id: lshin_z_text
					text: '0'
			BoxLayout:
				size_hint_y: 1/23
				spacing: 10
				Label:
					size_hint_x: 0.25
					text: '[b]Right shin[/b]'
					markup: True
				InputText:
					id: rshin_x_text
					text: '0'
				InputText:
					id: rshin_y_text
					text: '0'
				InputText:
					id: rshin_z_text
					text: '0'
			BoxLayout:
				size_hint_y: 1/23
				spacing: 10
				Label:
					size_hint_x: 0.25
					text: '[b]Left thigh[/b]'
					markup: True
				InputText:
					id: lthigh_x_text
					text: '0'
				InputText:
					id: lthigh_y_text
					text: '0'
				InputText:
					id: lthigh_z_text
					text: '0'
			BoxLayout:
				size_hint_y: 1/23
				spacing: 10
				Label:
					size_hint_x: 0.25
					text: '[b]Right thigh[/b]'
					markup: True
				InputText:
					id: rthigh_x_text
					text: '0'
				InputText:
					id: rthigh_y_text
					text: '0'
				InputText:
					id: rthigh_z_text
					text: '0'
			BoxLayout:
				size_hint_y: 1/23
				spacing: 10
				Label:
					size_hint_x: 0.25
					text: '[b]Waist[/b]'
					markup: True
				InputText:
					id: waist_x_text
					text: '0'
				InputText:
					id: waist_y_text
					text: '0'
				InputText:
					id: waist_z_text
					text: '0'
			BoxLayout:
				size_hint_y: 1/23
				spacing: 10
				Label:
					size_hint_x: 0.25
					text: '[b]Chest[/b]'
					markup: True
				InputText:
					id: chest_x_text
					text: '0'
					disabled: not chest_en_check.active
				InputText:
					id: chest_y_text
					text: '0'
					disabled: not chest_en_check.active
				InputText:
					id: chest_z_text
					text: '0'
					disabled: not chest_en_check.active
			Label:
				size_hint_y: 2/23
                text: '[b]Paramater settings in meter[/b]'
				markup: True
				font_size: '25sp'
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.5
					text: '[b]Shin vertical length (Knee to foot)[/b]'
					markup: True
				SliderValue:
					id: shin_h
					value: 0.5
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(shin_h.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.5
					text: '[b]Thigh vertical length (Hip to knee)[/b]'
					markup: True
				SliderValue:
					id: thigh_h
					value: 0.4
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(thigh_h.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.5
					text: '[b]Back vertical length (Hip to neck)[/b]'
					markup: True
				SliderValue:
					id: back_h
					value: 0.6
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(back_h.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.5
					text: '[b]Head vertical length (Neck to headset / eye level)[/b]'
					markup: True
				SliderValue:
					id: head_h
					value: 0.2
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(head_h.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.5
					text: '[b]Hip horizontal width[/b]'
					markup: True
				SliderValue:
					id: hip_width_h
					value: 0.3
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(hip_width_h.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.5
					text: '[b]Shin tracker vertical position (Knee to tracker)[/b]'
					markup: True
				SliderValue:
					id: shin_sensor_h
					value: 0.2
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(shin_sensor_h.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.5
					text: '[b]Thigh tracker vertical position (Hip to tracker)[/b]'
					markup: True
				SliderValue:
					id: thigh_sensor_h
					value: 0.2
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(thigh_sensor_h.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.5
					text: '[b]Waist tracker vertical position (Hip to tracker)[/b]'
					markup: True
				SliderValue:
					id: waist_sensor_h
					value: 0.2
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(waist_sensor_h.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.5
					text: '[b]Chest tracker vertical position (Neck to tracker)[/b]'
					markup: True
				SliderValue:
					id: chest_sensor_h
					disabled: not chest_en_check.active
					value: 0.2
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(chest_sensor_h.value)
			Label:
				size_hint_y: 2/23
                text: '[b]Additional settings[/b]'
				markup: True
				font_size: '25sp'
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.7
					text: '[b]Enable chest tracker for improved kinematics[/b]'
					markup: True
				Switch:
					id: chest_en_check
					size_hint_x: 0.3
					active: False
					
	TabbedPanelItem:
        text: 'Offset settings'
        BoxLayout:
			orientation: 'vertical'
			spacing: 5
            Label:
				size_hint_y: 2/23
                text: '[b]Tracker horizontal offset position settings in meter[/b]'
				markup: True
				font_size: '25sp'
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.2
					text: '[b]Trackers[/b]'
					markup: True
				Label:
					size_hint_x: 0.4
					text: '[b]X (Right positive)[/b]'
					markup: True
				Label:
					size_hint_x: 0.4
					text: '[b]Z (Back positive)[/b]'
					markup: True
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.2
					text: '[b]Left shin[/b]'
					markup: True
				SliderPosValue:
					id: lshin_pos_x
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(lshin_pos_x.value)
				SliderPosValue:
					id: lshin_pos_z
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(lshin_pos_z.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.2
					text: '[b]Right shin[/b]'
					markup: True
				SliderPosValue:
					id: rshin_pos_x
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(rshin_pos_x.value)
				SliderPosValue:
					id: rshin_pos_z
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(rshin_pos_z.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.2
					text: '[b]Left thigh[/b]'
					markup: True
				SliderPosValue:
					id: lthigh_pos_x
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(lthigh_pos_x.value)
				SliderPosValue:
					id: lthigh_pos_z
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(lthigh_pos_z.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.2
					text: '[b]Right thigh[/b]'
					markup: True
				SliderPosValue:
					id: rthigh_pos_x
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(rthigh_pos_x.value)
				SliderPosValue:
					id: rthigh_pos_z
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(rthigh_pos_z.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.2
					text: '[b]Waist[/b]'
					markup: True
				SliderPosValue:
					id: waist_pos_x
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(waist_pos_x.value)
				SliderPosValue:
					id: waist_pos_z
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(waist_pos_z.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.2
					text: '[b]Chest[/b]'
					markup: True
				SliderPosValue:
					id: chest_pos_x
					disabled: not chest_en_check.active
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(chest_pos_x.value)
				SliderPosValue:
					id: chest_pos_z
					disabled: not chest_en_check.active
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(chest_pos_z.value)
			BoxLayout:
				size_hint_y: 1/23
				Label:
					size_hint_x: 0.2
					text: '[b]Headset[/b]'
					markup: True
				SliderPosValue:
					id: head_pos_x
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(head_pos_x.value)
				SliderPosValue:
					id: head_pos_z
				Label:
					size_hint_x: 0.1
					text: '{:.2f}'.format(head_pos_z.value)
			BoxLayout:
				size_hint_y: 13/23		

	TabbedPanelItem:
		text: 'WiFi Settings'
		BoxLayout:
			orientation: 'vertical'
			spacing: 5
			BoxLayout:
				size_hint_y: 0.25
			BoxLayout:
				size_hint_y: 0.1
				Label:
					size_hint_x: 0.2
					text: 'COM Port'
				Spinner:
					id: com_port_list
					size_hint_x: 0.8
			BoxLayout:
				size_hint_y: 0.1
				Label:
					size_hint_x: 0.2
					text: 'WiFi SSID'
				TextInput:
					id: wifi_ssid
					size_hint_x: 0.8
					multiline: False
					write_tab: False
					on_focus: app.textinput_focus(args)
			BoxLayout:
				size_hint_y: 0.1
				Label:
					size_hint_x: 0.2
					text: 'WiFi Password'
				TextInput:
					id: wifi_password
					size_hint_x: 0.8
					multiline: False
					write_tab: False
					password: True
					on_focus: app.textinput_focus(args)
			BoxLayout:
				size_hint_y: 0.1
				Label:
					size_hint_x: 0.25
				Button:
					id: wifi_configure
					size_hint_x: 0.5
					text: 'Configure'
					on_release: app.configure_wifi()
				Label:
					size_hint_x: 0.25
			BoxLayout:
				size_hint_y: 0.1
				Label:
					id: wifi_configure_status
			BoxLayout:
				size_hint_y: 0.25